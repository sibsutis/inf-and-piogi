---
title: –õ–µ–∫—Ü–∏—è 6.0 - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ UX
---

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ UX

## –í–≤–µ–¥–µ–Ω–∏–µ

"Error: Object reference not set to an instance of an object."

–¢–∞–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É (–∏ —Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞). –ê –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é? –û–Ω –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–µ—Ä–Ω—ë—Ç—Å—è.

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—Å–ø–µ–∫—Ç. –≠—Ç–æ —á–∞—Å—Ç—å **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ (UX)**.

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è –æ—à–∏–±–æ–∫

### Fail Fast vs Fail Safe

**Fail Fast** ‚Äî –ø–∞–¥–∞–π –±—ã—Å—Ç—Ä–æ –∏ –≥—Ä–æ–º–∫–æ:
- –û—à–∏–±–∫–∞ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—É
- –õ—É—á—à–µ –¥–ª—è —ç—Ç–∞–ø–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```csharp
public void ProcessPayment(decimal amount)
{
    if (amount <= 0)
        throw new ArgumentException("Amount must be positive");
    // ...
}
```

**Fail Safe** ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞–π —Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ:
- –°–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞—ë—Ç—Å—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
- –õ—É—á—à–µ –¥–ª—è production

```csharp
public async Task LoadMoviesAsync()
{
    try
    {
        var movies = await _api.GetMoviesAsync();
        DisplayMovies(movies);
    }
    catch (HttpRequestException)
    {
        DisplayCachedMovies();  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–µ—à –≤–º–µ—Å—Ç–æ –∫—Ä–∞—à–∞
        ShowOfflineWarning();
    }
}
```

### –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

| –°–∏—Ç—É–∞—Ü–∏—è | –ü–æ–¥—Ö–æ–¥ |
|----------|--------|
| –û—à–∏–±–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ (–±–∞–≥) | Fail Fast |
| –í–Ω–µ—à–Ω—è—è –ø—Ä–æ–±–ª–µ–º–∞ (—Å–µ—Ç—å, —Å–µ—Ä–≤–µ—Ä) | Fail Safe |
| –ù–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –í–∞–ª–∏–¥–∞—Ü–∏—è + —Å–æ–æ–±—â–µ–Ω–∏–µ |
| –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ | Fail Fast + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |

---

## Try-Catch —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω: –ü–æ–π–º–∞—Ç—å –∏ –ø—Ä–æ–≥–ª–æ—Ç–∏—Ç—å

```csharp
// –ü–õ–û–•–û: –û—à–∏–±–∫–∞ —Å–∫—Ä—ã—Ç–∞, –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤–∏–¥–Ω–∞
try
{
    await LoadDataAsync();
}
catch (Exception)
{
    // –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
}
```

### –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω: –ü–æ–π–º–∞—Ç—å –≤—Å—ë

```csharp
// –ü–õ–û–•–û: –õ–æ–≤–∏–º —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
try
{
    var x = int.Parse(input);
    await SaveAsync(x);
}
catch (Exception ex)
{
    // FormatException –∏ NetworkException –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ?
    MessageBox.Show(ex.Message);
}
```

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

```csharp
try
{
    var movies = await _api.GetMoviesAsync();
    MoviesListBox.ItemsSource = movies;
}
catch (HttpRequestException ex)
{
    // –ü—Ä–æ–±–ª–µ–º–∞ —Å–µ—Ç–∏
    ShowNetworkError("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É");
    LogError(ex);
}
catch (JsonException ex)
{
    // –°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON
    ShowError("–û—à–∏–±–∫–∞ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
    LogError(ex);
}
catch (TaskCanceledException)
{
    // –ó–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω—ë–Ω ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
}
```

### –ì–¥–µ –ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  UI Layer (MainWindow.xaml.cs)                               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ try-catch –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Service Layer (ApiService.cs)                               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ API-–æ—à–∏–±–æ–∫                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Infrastructure (HttpClient)                                 ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç HttpRequestException                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –û—à–∏–±–∫–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –ü–ª–æ—Ö–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

```
‚ùå "Error 500: Internal Server Error"
‚ùå "NullReferenceException at line 42"
‚ùå "Something went wrong"
‚ùå "–û—à–∏–±–∫–∞"
```

### –•–æ—Ä–æ—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

```
‚úÖ "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É."
‚úÖ "–ú–µ—Å—Ç–æ —É–∂–µ –∑–∞–Ω—è—Ç–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–µ."
‚úÖ "–°–µ–∞–Ω—Å –Ω–∞—á–Ω—ë—Ç—Å—è —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ."
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ö–æ—Ä–æ—à–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

1. **–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å** ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
2. **–ü–æ—á–µ–º—É** ‚Äî –ø—Ä–∏—á–∏–Ω–∞ (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω–∞)
3. **–ß—Ç–æ –¥–µ–ª–∞—Ç—å** ‚Äî –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ          ‚îÇ  ‚Üê –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å
‚îÇ                                             ‚îÇ
‚îÇ  –ú–µ—Å—Ç–æ —Ä—è–¥ 5, –Ω–æ–º–µ—Ä 10 –±—ã–ª–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ   ‚îÇ  ‚Üê –ü–æ—á–µ–º—É
‚îÇ  –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –º–∏–Ω—É—Ç—É –Ω–∞–∑–∞–¥.         ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  [–û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ä—Ç—É –∑–∞–ª–∞]  [–í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–µ]    ‚îÇ  ‚Üê –ß—Ç–æ –¥–µ–ª–∞—Ç—å
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã

–ë–µ–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –∑–∞–≤–∏—Å–ª–æ?
- –ù—É–∂–Ω–æ –∂–¥–∞—Ç—å –∏–ª–∏ –Ω–∞–∂–∞—Ç—å –µ—â—ë —Ä–∞–∑?
- –°–∫–æ–ª—å–∫–æ –µ—â—ë –∂–¥–∞—Ç—å?

### –¢–∏–ø—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

**Indeterminate (–Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π)** ‚Äî –∫–æ–≥–¥–∞ –Ω–µ –∑–Ω–∞–µ–º, —Å–∫–æ–ª—å–∫–æ –∂–¥–∞—Ç—å:
```xml
<ProgressBar IsIndeterminate="True"/>
```

**Determinate (–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π)** ‚Äî –∫–æ–≥–¥–∞ –∑–Ω–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å:
```xml
<ProgressBar Value="{Binding Progress}" Maximum="100"/>
```

**Skeleton (—Å–∫–µ–ª–µ—Ç–æ–Ω)** ‚Äî –∑–∞–≥–ª—É—à–∫–∏ –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:
```xml
<Border Background="#E0E0E0" Height="200" CornerRadius="8"/>
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –∑–∞–≥—Ä—É–∑–∫–∏

```csharp
private async void LoadMovies_Click(object sender, RoutedEventArgs e)
{
    // 1. –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
    LoadingIndicator.Visibility = Visibility.Visible;
    MoviesListBox.Visibility = Visibility.Collapsed;
    ErrorPanel.Visibility = Visibility.Collapsed;
    
    // 2. –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫)
    LoadButton.IsEnabled = false;
    
    try
    {
        // 3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
        var movies = await _api.GetMoviesAsync();
        
        // 4. –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        MoviesListBox.ItemsSource = movies;
        MoviesListBox.Visibility = Visibility.Visible;
    }
    catch (Exception ex)
    {
        // 5. –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
        ErrorMessage.Text = "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∏–ª—å–º—ã";
        ErrorPanel.Visibility = Visibility.Visible;
    }
    finally
    {
        // 6. –°–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É
        LoadingIndicator.Visibility = Visibility.Collapsed;
        LoadButton.IsEnabled = true;
    }
}
```

---

## Retry Patterns

### –ü—Ä–æ—Å—Ç–æ–π retry

```csharp
public async Task<T> RetryAsync<T>(Func<Task<T>> action, int maxRetries = 3)
{
    for (int i = 0; i < maxRetries; i++)
    {
        try
        {
            return await action();
        }
        catch (HttpRequestException) when (i < maxRetries - 1)
        {
            await Task.Delay(1000);  // –ñ–¥—ë–º –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–æ–º
        }
    }
    throw new Exception("Max retries exceeded");
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
var movies = await RetryAsync(() => _api.GetMoviesAsync());
```

### Exponential Backoff

–ö–∞–∂–¥—ã–π –ø–æ–≤—Ç–æ—Ä –∂–¥—ë–º –¥–æ–ª—å—à–µ:

```csharp
public async Task<T> RetryWithBackoffAsync<T>(Func<Task<T>> action, int maxRetries = 5)
{
    for (int i = 0; i < maxRetries; i++)
    {
        try
        {
            return await action();
        }
        catch (HttpRequestException) when (i < maxRetries - 1)
        {
            // 1s, 2s, 4s, 8s, 16s...
            var delay = TimeSpan.FromSeconds(Math.Pow(2, i));
            await Task.Delay(delay);
        }
    }
    throw new Exception("Max retries exceeded");
}
```

### Circuit Breaker

"–í—ã–∫–ª—é—á–∞—Ç–µ–ª—å" ‚Äî –µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–∞–¥–∞–µ—Ç, –ø–µ—Ä–µ—Å—Ç–∞—ë–º –ø—ã—Ç–∞—Ç—å—Å—è:

```csharp
public class CircuitBreaker
{
    private int _failureCount = 0;
    private DateTime _lastFailure;
    private const int Threshold = 5;
    private readonly TimeSpan _timeout = TimeSpan.FromMinutes(1);
    
    public async Task<T> ExecuteAsync<T>(Func<Task<T>> action)
    {
        // –ï—Å–ª–∏ "–≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å" –æ—Ç–∫—Ä—ã—Ç ‚Äî —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É
        if (_failureCount >= Threshold && DateTime.Now - _lastFailure < _timeout)
        {
            throw new CircuitBreakerOpenException("Service unavailable, please try later");
        }
        
        try
        {
            var result = await action();
            _failureCount = 0;  // –°–±—Ä–æ—Å –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
            return result;
        }
        catch
        {
            _failureCount++;
            _lastFailure = DateTime.Now;
            throw;
        }
    }
}
```

---

## Offline-first

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**Offline-first** ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (—á–∞—Å—Ç–∏—á–Ω–æ) –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:

1. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏—è –≤ –æ—á–µ—Ä–µ–¥—å
3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏

### –ü—Ä–æ—Å—Ç–æ–π –∫–µ—à

```csharp
public class CachedApiService
{
    private readonly ApiService _api;
    private List<Movie> _cachedMovies;
    
    public async Task<List<Movie>> GetMoviesAsync()
    {
        try
        {
            _cachedMovies = await _api.GetMoviesAsync();
            SaveToLocalCache(_cachedMovies);
            return _cachedMovies;
        }
        catch (HttpRequestException)
        {
            // –ù–µ—Ç —Å–µ—Ç–∏ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–µ—à
            if (_cachedMovies != null)
                return _cachedMovies;
            
            // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ —Ñ–∞–π–ª–∞
            _cachedMovies = LoadFromLocalCache();
            if (_cachedMovies != null)
                return _cachedMovies;
            
            throw;  // –°–æ–≤—Å–µ–º –Ω–µ—á–µ–≥–æ –ø–æ–∫–∞–∑–∞—Ç—å
        }
    }
}
```

### –ò–Ω–¥–∏–∫–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ç–∏

```xml
<Border x:Name="OfflineBanner" 
        Background="#FFF3E0" 
        Visibility="Collapsed"
        Padding="10">
    <StackPanel Orientation="Horizontal">
        <TextBlock Text="üì¥"/>
        <TextBlock Text="–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ü–æ–∫–∞–∑–∞–Ω—ã —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ." 
                   Margin="10,0,0,0"/>
    </StackPanel>
</Border>
```

---

## Graceful Degradation

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**Graceful Degradation** ‚Äî –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–∞–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ, –∞ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é.

### –ü—Ä–∏–º–µ—Ä—ã

**–ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –ø–æ—Å—Ç–µ—Ä—ã**
- ‚ùå –ü–∞–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º placeholder-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è —Å–ø–∏—Å–æ–∫ —Å–µ–∞–Ω—Å–æ–≤**
- ‚ùå –ü—É—Å—Ç–æ–π —ç–∫—Ä–∞–Ω
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∏–ª—å–º–µ + —Å–æ–æ–±—â–µ–Ω–∏–µ "–°–µ–∞–Ω—Å—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"

**–ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫**
- ‚ùå –ü–æ–∏—Å–∫ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ + —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–æ–∏—Å–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```csharp
private async Task LoadMovieDetailsAsync(int movieId)
{
    // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
    var movie = await _api.GetMovieAsync(movieId);
    DisplayMovieInfo(movie);
    
    // –°–µ–∞–Ω—Å—ã ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    try
    {
        var sessions = await _api.GetSessionsAsync(movieId);
        DisplaySessions(sessions);
    }
    catch (Exception ex)
    {
        DisplaySessionsUnavailable();
        LogWarning(ex);
    }
    
    // –û—Ç–∑—ã–≤—ã ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    try
    {
        var reviews = await _api.GetReviewsAsync(movieId);
        DisplayReviews(reviews);
    }
    catch
    {
        // –ú–æ–ª—á–∞ —Å–∫—Ä—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏—é –æ—Ç–∑—ã–≤–æ–≤
        ReviewsSection.Visibility = Visibility.Collapsed;
    }
}
```

---

## –°–≤—è–∑—å —Å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π

### –õ–∞–±–∞ 6: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ –≤—ã:

1. **–û–±—Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Ä–∞–∑–Ω—ã–µ HTTP-–∫–æ–¥—ã:**
   ```csharp
   switch (response.StatusCode)
   {
       case HttpStatusCode.OK:
           // –£—Å–ø–µ—Ö
           break;
       case HttpStatusCode.Conflict:
           // –ú–µ—Å—Ç–æ –∑–∞–Ω—è—Ç–æ
           break;
       case HttpStatusCode.BadRequest:
           // –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
           break;
   }
   ```

2. **–ü–æ–∫–∞–∂–µ—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**

3. **–†–µ–∞–ª–∏–∑—É–µ—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏:**
   ```csharp
   BuyButton.Content = "–û–±—Ä–∞–±–æ—Ç–∫–∞...";
   BuyButton.IsEnabled = false;
   ```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî —ç—Ç–æ –Ω–µ "–ø–æ—Ç–æ–º –¥–æ–¥–µ–ª–∞–µ–º", —ç—Ç–æ **–æ—Å–Ω–æ–≤–∞ —Ö–æ—Ä–æ—à–µ–≥–æ UX**:

- –õ–æ–≤–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∞–º, –≥–¥–µ –º–æ–∂–µ—Ç–µ —Å –Ω–∏–º–∏ —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å
- –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∞ –Ω–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –º—É—Å–æ—Ä
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞—Ç—å gracefully, –∞ –Ω–µ –ø–∞–¥–∞—Ç—å

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–∏—Ç –º–µ–¥–ª–µ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É. –ù–æ –Ω–µ –ø—Ä–æ—Å—Ç–∏—Ç –Ω–µ–æ–±—ä—è—Å–Ω–∏–º—ã–π –∫—Ä–∞—à.

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Error Handling Best Practices](https://docs.microsoft.com/en-us/dotnet/standard/exceptions/best-practices-for-exceptions)
- [Polly - Resilience Library](https://github.com/App-vNext/Polly) ‚Äî retry, circuit breaker
- [UX Error Messages](https://www.nngroup.com/articles/error-message-guidelines/)
