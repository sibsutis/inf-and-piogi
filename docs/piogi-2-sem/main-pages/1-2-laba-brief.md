---
title: "Лаба 1: Знакомство с WPF (часть 2)."
tags:
  - wpf
  - xaml
doc-type:
  - briefing
doc-status:
  - in_work
---
# Часть 2: Базовые элементы WPF и работа с ветками

В первой части мы настроили окружение. Теперь переходим к практике ("щупаем" WPF) и правильной работе с Git Flow.

**Что будем делать:**

Git:

- Создание новой ветки `feature/`
- Атомарные коммиты (одно действие — один коммит)
- Отправка ветки в удаленный репозиторий

WPF:

- Изучение панели инструментов (Toolbox)
- Работа с XAML разметкой
- Проверка свойств элементов (Margin, Alignment, Color)


---

## Техническое задание
[Требования к программе, необходимые для сдачи.](../tasks/task-1-2.md)

Цель этой части — **не** сверстать готовый киоск, а создать "полигон" для тестов. Мы будем добавлять элементы на форму, смотреть, как они выглядят и работают, и фиксировать каждый шаг.

## Список элементов
### Элементы компоновки (Layout)

Эти элементы используются для размещения других контролов в окне.

*   **Grid** — сетка со строками и столбцам.
*   **StackPanel** — располагает элементы последовательно по очереди горизонтально или вертикально.
*   **Canvas** — позволяет задавать точные координаты (X, Y) для элементов.
*   **DockPanel** — «прижимает» элементы к краям (сверху, снизу, слева, справа).
*   **WrapPanel** — располагает элементы в ряд, перенося их на следующую строку, если не хватает места.
*   **UniformGrid** — создает сетку с ячейками одинакового размера.

### 2. Кнопки и ввод (Buttons & Input)

*   **Button** — обычная кнопка.
*   **RepeatButton** — кнопка, которая генерирует событие клика постоянно, пока она нажата.
*   **ToggleButton** — кнопка с двумя состояниями (нажата/отжата).
*   **CheckBox** — флажок (галочка).
*   **RadioButton** — переключатель (выбор одного варианта из группы).
*   **Slider** — ползунок для выбора числового значения из диапазона.

### 3. Текстовые элементы (Text)

*   **TextBlock** — для отображения небольшого объема текста (легковесный).
*   **Label** — метка, похожа на TextBlock, но поддерживает горячие клавиши (через `Target`).
*   **TextBox** — поле для ввода и редактирования простого текста.
*   **PasswordBox** — поле для ввода пароля (скрывает символы).
*   **RichTextBox** — редактор форматированного текста (жирный, курсив и т.д.).

### 4. Списки и данные (Lists & Data)

*   **ListBox** — простой список элементов.
*   **ComboBox** — выпадающий список.
*   **ListView** — расширенный список, часто используется для отображения табличных данных.
*   **DataGrid** — полноценная таблица для работы с данными (сортировка, редактирование).
*   **TreeView** — дерево (иерархический список).

### 5. Выбор даты (Date & Time)

*   **Calendar** — календарь для просмотра и выбора даты.
*   **DatePicker** — поле ввода с выпадающим календарем.

### 6. Меню и панели инструментов (Menus & Toolbars)

*   **Menu** — главное меню окна (Файл, Правка и т.д.).
*   **ContextMenu** — контекстное меню (вызывается правой кнопкой мыши).
*   **ToolBar** — панель инструментов.
*   **StatusBar** — строка состояния внизу окна.

### 7. Информационные элементы

*   **ProgressBar** — полоса прогресса.
*   **ToolTip** — всплывающая подсказка при наведении.
*   **Image** — отображение картинок.
*   **GroupBox** — контейнер с заголовком и рамкой вокруг группы элементов.
*   **Expander** — раскрывающаяся панель с содержимым.

### 8. Навигация и окна

*   **Window** — базовое окно приложения.
*   **Page** — страница (используется внутри Frame).
*   **Frame** — контейнер для навигации между страницами.
*   **TabControl** — вкладки.
*   **ScrollViewer** — область с прокруткой, если содержимое не помещается.

### Основные общие свойства

Почти у всех элементов управления есть эти свойства:

*   `Name` — имя элемента для обращения к нему из C#.
*   `Content` — содержимое (у одиночных контролов, типа Button).
*   `Width` / `Height` — ширина и высота.
*   `Margin` — внешние отступы.
*   `HorizontalAlignment` / `VerticalAlignment` — выравнивание.
*   `Background` / `Foreground` — цвет фона и текста.
*   `IsEnabled` — доступен ли элемент для взаимодействия.
*   `Visibility` — видимость (`Visible`, `Hidden`, `Collapsed`).


## Создание ветки

В профессиональной разработке никто не пишет код сразу в `main` (или `master`). Мы создадим отдельную ветку для экспериментов.

Открой терминал в папке проекта:

```bash
# Убедись, что ты в main и у тебя нет незакоммиченных изменений
git checkout main
git pull origin main

# Создай новую ветку и сразу переключись на нее
git checkout -b feature/lab-1-basic-elements
```

!!! info "Зачем это нужно?"
    Ветка `feature/...` — песочница. Если что-то сломается, то основная ветка `main` останется чистой.

---

## Корневой элемент 

Открой `MainWindow.xaml`. По умолчанию там стоит `Grid`. Это контейнер компоновки.
Чтобы элементы не накладывались друг на друга, давай заменим его на `StackPanel` (или добавим `StackPanel` внутрь `Grid`), который выстраивает элементы в список.

1. Найди теги `<Grid>...</Grid>`
2. Замени их или добавь внутрь:

```xml
<Grid>
    <ScrollViewer>
        <StackPanel Orientation="Vertical" Margin="10">
            <!-- Сюда будем кидать элементы -->
            <TextBlock Text="Песочница элементов" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>
        </StackPanel>
    </ScrollViewer>
</Grid>
```

**Действия для Git:**
```bash
git add .
git commit -m "Setup: prepared layout for testing elements"
```

---

## Кнопки и переключатели

Добавь внутрь `StackPanel` следующие элементы. Поиграйся с их свойствами (`Content`, `IsChecked`, `Margin`).

1. **Button** — обычная кнопка.
2. **CheckBox** — галочка "Согласен с правилами".
3. **RadioButton** — создай группу из двух штук (например, "Оплата картой" и "Наличные").
4. **Slider** — ползунок громкости.

??? tip "Пример кода"
    ```xml
    <Button Content="Нажми меня" Margin="5"/>
    <CheckBox Content="Я робот" IsChecked="True"/>
    <StackPanel Orientation="Horizontal">
        <RadioButton GroupName="Payment" Content="Карта" Margin="5"/>
        <RadioButton GroupName="Payment" Content="Нал" Margin="5"/>
    </StackPanel>
    ```

**Действия для Git:**
```bash
git add .
git commit -m "Feat: added buttons and toggles"
```

---

## Текстовые поля

Ниже кнопок добавь элементы для работы с текстом. Обрати внимание на разницу между `TextBlock` (просто надпись) и `TextBox` (поле ввода).

1. **TextBlock** — напиши любой текст, задай цвет (`Foreground="Blue"`).
2. **TextBox** — поле для ввода имени. Добавь свойство `PlaceholderText` (если доступно) или просто `Text`.
3. **PasswordBox** — поле для пароля.

**Действия для Git:**
```bash
git add .
git commit -m "Feat: added text inputs"
```

---

## Списки и Выбор даты 
Самые сложные, но важные элементы.

1. **ComboBox** — выпадающий список. Добавь в него пару элементов вручную.
2. **DatePicker** — выбор даты.

??? question "Как наполнить ComboBox в XAML?"
    ```xml
    <ComboBox SelectedIndex="0" Margin="5">
        <ComboBoxItem Content="Фильм 1"/>
        <ComboBoxItem Content="Фильм 2"/>
        <ComboBoxItem Content="Фильм 3"/>
    </ComboBox>
    ```

**Действия для Git:**
```bash
git add .
git commit -m "Feat: added lists and datepicker"
```

---

## Свойства элементов

Выбери любой элемент (например, Кнопку) и задай ей:

- `Name` (например, `x:Name="TestButton"`)
- `Width` и `Height`
- `HorizontalAlignment` (Left, Center, Right)
- `Visibility` (попробуй поставить `Hidden` или `Collapsed` и посмотри, что будет в конструкторе)
- `IsEnabled="False"` (сделай кнопку неактивной)

**Действия для Git:**
```bash
git add .
git commit -m "Refactor: experimented with control properties"
```

---

## Отправка изменений

Ты работал в локальной ветке. Теперь нужно отправить её на GitHub.

```bash
# Отправляем текущую ветку feature/lab-1-basic-elements на сервер
git push -u origin feature/lab-1-basic-elements
```

---

## Проверка перед сдачей

1. На GitHub в твоем репозитории появилась ветка `feature/lab-1-basic-elements`.
2. В этой ветке есть несколько коммитов (не один "Initial commit", а 4-5 штук по шагам).
3. Проект запускается, открывается окно, в котором кучей навалены кнопки, поля и списки.
4. `.gitignore` всё еще работает (папок `bin` и `obj` нет в репозитории).


## Техническое задание

[Что должно быть сделано в части 2](../tasks/task-1-2.md)


## Полезные ссылки

- [WPF Controls Gallery (официальная дока)](https://learn.microsoft.com/ru-ru/dotnet/desktop/wpf/controls/controls-by-category?view=netdesktop-8.0)
- [Шпаргалка по XAML](https://metanit.com/sharp/wpf/2.php)
- [База по xaml](docs/piogi-2-sem/topics/topic-xaml-base.md) 
- [Ещё одна база по xaml](https://metanit.com/sharp/wpf/2.php)