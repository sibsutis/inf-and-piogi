### **Основы классов.**

>Классы — это основной строительный блок объектно-ориентированного программирования. Классы позволяют моделировать реальный мир, объединяя данные и действия, которые могут с ними выполняться, в одном месте.

**Класс** — это шаблон для создания объектов (экземпляров). Он определяет структуру и поведение объектов, включая свойства (данные) и методы (функции), которые работают с этими данными.

*__Объявление переменной в C#__*— это определение её типа и имени перед использованием. Тип данных может быть любым допустимым (стандартным или пользовательским (классы)).

**_Инициализация переменной_**— это присвоению переменной начального значения. В C# требуется обязательная инициализация переменной до начала её использования. Попытка использовать неинициализированную переменную приводит к ошибкам, обнаруживаемым ещё на этапе компиляции (null reference).

**Основными компонентами класса являются:**

- **Поля** — переменные, которые хранят данные объекта.
- **Свойства** — способ доступа к внутреннему состоянию объекта (полю), имитирующий переменную некоторого типа. _Со свойствами знакомы с разметки (__Width,_ _Height,_ _Text и тд.)_
- **Методы** — функции, которые выполняют операции с данными объекта.
- **Конструкторы** — специальные методы, которые создают и инициализируют объект.
- **Инкапсуляция** — принцип, согласно которому данные и методы класса скрыты от внешнего мира и могут быть доступны только через специально предусмотренные методы.

### **Пример: Класс "Автомобиль"**

Представим, что у нас есть класс "**Автомобиль**". 

Он может иметь поля, такие как **Цвет**, **Модель**, свойство **Скорость** и методы, такие как **Ускориться()** или **Тормозить()**.

```csharp
public class Car
{
    private int _speed; //Это поле
    //А это свойство для скорости с контролем

    public int Speed
    {
        get //Этот блок кода срабатывает при попытке считать переменную
        {
            return _speed; //Возвращает текущую скорость
        }
        set //Этот блок кода срабатывает при попытке записать в переменную
        {
            //Проверяем, чтобы скорость не была отрицательной
            if (value < 0)
                _speed = 0;
            else
                _speed = value;
        }
    }
    
    //Только для записи (без cеттера)
    public string Model { private get; set; }


    //Поля класса
    public string Color;
    //public string Model;


    //Конструктор, инициализирует новый объект
    public Car(string color, string model)
    {
        Color = color;
        Model = model;
        //Автомобиль начинает движение с нулевой скоростью
        Speed = 0;  
    }

    //Метод для увеличения скорости
    public void Accelerate()
    {
        Speed += 10; //Увеличиваем скорость на 10
    }

    //Метод для торможения
    public void Brake()
    {
        if (Speed >= 10)
            Speed -= 10; //Уменьшаем скорость на 10, но не ниже нуля
    }

    

}
```

**Пояснение:**

- **Поля —** это переменные, которые принадлежат классу и хранят информацию о конкретном объекте. Например, в классе Car поля Color, Model и приватное _speed (которое используется для хранения значения скорости).
- **Свойства —** это методы, которые обеспечивают доступ к полям класса. Свойства позволяют контролировать, как данные считываются и изменяются. В отличие от полей, свойства могут содержать логику для валидации или обработки данных. Например, свойство Speed в классе Car позволяет управлять скоростью с дополнительной проверкой на отрицательные значения.
- **Методы** — это действия, которые объекты этого класса могут выполнять. Например, метод Accelerate() увеличивает скорость автомобиля, а Brake() снижает её. Методы определяют поведение объектов.
- **Конструктор** — это специальный метод, который вызывается при создании нового объекта. Он помогает инициализировать поля объекта значениями, переданными при его создании. Например, конструктор Car(string color, string model) инициализирует цвет и модель автомобиля, а скорость по умолчанию устанавливается в 0.

```csharp
//Создание объекта Car с использованием конструктора
Car YototaCar = new Car("Red", "Yotota");

//Взаимодействие с объектом
YototaCar.Accelerate(); //Разгон +10
YototaCar.Accelerate(); //Еще +10 разгона
YototaCar.Brake();      //Тормозим, -10

Car LexosCar = new Car("Green", "Lexos");

LexosCar.Accelerate();  //Разгон +10
LexosCar.Brake();       //Тормозим, -10
LexosCar.Accelerate();  //Разгон +10
```

**Объяснение кода:**

1. **Конструктор**: когда создается объект YotodaCar, **конструктор** инициализирует его поля, например, `Color = "Red"`, `Model = " YototaCar "`, а `Speed` устанавливается в 0 (в конструкторе).

2. **Методы**: `Accelerate()` увеличивает скорость автомобиля на 10 км/ч, а `Brake()` - уменьшает скорость.

3. **Создание объектов**: в конструкторе `MainWindow` мы создаем новый объект класса `YototaCar` или `LexosCar`, а затем вызываем методы для ускорения и торможения.

### Равенство объектов.

> ВНИМАНИЕ: 
> 
> Это дополнительный и необязательный материал, просто для понимания.
> 

В C#, объекты классов по умолчанию сравниваются по ссылкам, а не по значениям. То есть, даже если два объекта имеют одинаковые данные, они могут считаться **разными**, так как ссылки на эти объекты указывают на разные участки памяти.
Пример:

```csharp
Car YototaCar = new Car("Red", "Yotota");
Car AnotherYototaCar = new Car("Red", "Yotota");

if (YototaCar == AnotherYototaCar) //Вернет false
    MessageBox.Show("Объекты равны");
else
    MessageBox.Show("Объекты не равны");
```

Чтобы сравнивать объекты по значению (то есть сравнивать их данные), нужно переопределить метод `Equals` в классе, а также метод `GetHashCode`, так как `Equals`[(О Equals)](https://learn.microsoft.com/ru-ru/dotnet/api/system.object.equals?view=net-8.0) и `GetHashCode` связаны между собой.

```csharp
public class Car
{
    public string Color { get; set; }
    public string Brand { get; set; }

    //Конструктор для инициализации данных
    public Car(string color, string brand)
    {
        Color = color;
        Brand = brand;
    }

    //Переопределяем метод Equals для сравнения объектов по значениям
    public override bool Equals(object obj)
    {
        //Проверяем, что объекты того же типа
        if (obj == null || GetType() != obj.GetType())
            return false;

        Car otherCar = (Car)obj;

        // Сравниваем значения свойств
        return Color == otherCar.Color && Brand == otherCar.Brand;
    }

    // Переопределяем GetHashCode
    public override int GetHashCode()
    {
        return HashCode.Combine(Color, Brand);
    }
}
```

В программе:

```csharp
//Теперь объекты будут сравниваться по значениям

//Вернет true, так как объекты имеют одинаковые данные
	if (YototaCar.Equals(AnotherYototaCar))  
        {
            Console.WriteLine("Объекты равны");
        }
	else
        {
            Console.WriteLine("Объекты не равны");
        }
```

- Метод `Equals` проверяет, что объекты одного типа, а затем сравнивает их свойства.
- Метод `GetHashCode` необходим для того, чтобы корректно работать с коллекциями (например, `HashSet` или `Dictionary`), где объекты сравниваются по хэш-коду. Важно, чтобы для одинаковых объектов метод `GetHashCode` возвращал одинаковое значение.

